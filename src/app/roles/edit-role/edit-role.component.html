<mat-card style="text-align: center;">
    <mat-card-title> {{currentRole.role}} / {{currentRole.roleBg}}</mat-card-title>
    <mat-card-content>
        <form [formGroup]="editForm" (ngSubmit)="onSubmit()" style="width: 100%;">
            <div class="f-row">
                <mat-form-field class="two-on-row">
                    <input matInput placeholder="role" type="text" class="form-control" formControlName="role" id="role"
                        autocomplete="off" readonly>
                </mat-form-field>

                <mat-form-field class="two-on-row">
                    <input matInput placeholder="description" type="text" class="form-control"
                        formControlName="description" id="description" autocomplete="off" required>
                </mat-form-field>

                <mat-form-field class="two-on-row">
                    <input matInput placeholder="роля" type="text" class="form-control" formControlName="roleBg"
                        id="roleBg" autocomplete="off" required>
                </mat-form-field>

                <mat-form-field class="two-on-row">
                    <input matInput placeholder="описание" type="text" class="form-control"
                        formControlName="descriptionBg" id="descriptionBg" autocomplete="off" required>
                </mat-form-field>
            </div>
            <h3> {{'wl.menus' | translate}}</h3>
            <div>
                <div *ngIf="menus.controls" class="pepe mat-elevation-z8">
                    <table mat-table #table class="left_table" [dataSource]='menus.controls' formArrayName="menus">

                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;">
                        </tr>

                        <ng-container matColumnDef="menu">
                            <th mat-header-cell *matHeaderCellDef> {{'wl.role_menu' | translate}}</th>
                            <td mat-cell *matCellDef="let menu; let i = index;" [formGroupName]="i">
                                {{menu.value.menu}} </td>
                        </ng-container>

                        <ng-container matColumnDef="preview">
                            <th mat-header-cell *matHeaderCellDef> {{'wl.preview' | translate}}</th>
                            <td mat-cell *matCellDef="let menu; let i = index;" [formGroupName]="i">
                                <mat-checkbox checked="{{menu.value.preview}}" formControlName="preview"></mat-checkbox>
                            </td>
                        </ng-container>


                        <ng-container matColumnDef="edit">
                            <th mat-header-cell *matHeaderCellDef> {{'wl.role_edit_check' | translate}} </th>
                            <td mat-cell *matCellDef="let menu; let i = index;" [formGroupName]="i">
                                <mat-checkbox checked="{{menu.value.edit}}" formControlName="edit"></mat-checkbox>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="remove">
                            <th mat-header-cell *matHeaderCellDef>{{'wl.role_remove_check' | translate}} </th>
                            <td mat-cell *matCellDef="let menu; let i = index;" [formGroupName]="i">
                                <mat-checkbox checked="{{menu.value.remove}}" formControlName="remove"></mat-checkbox>
                            </td>
                        </ng-container>


                        <ng-container matColumnDef="all_regions">
                            <th mat-header-cell *matHeaderCellDef>{{'wl.role_all_regions_check' | translate}} </th>
                            <td mat-cell *matCellDef="let menu; let i = index;" [formGroupName]="i">
                                <mat-checkbox checked="{{menu.value.allRegion}}" formControlName="allRegion">
                                </mat-checkbox>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="all_tickets">
                            <th mat-header-cell *matHeaderCellDef>{{'wl.role_all_tickets_check' | translate}} </th>
                            <td mat-cell *matCellDef="let menu; let i = index;" [formGroupName]="i">
                                <mat-checkbox checked="{{menu.value.allTickets}}" formControlName="allTickets">
                                </mat-checkbox>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="assign_to_all">
                            <th mat-header-cell *matHeaderCellDef>{{'wl.role_assign_to_all_check' | translate}} </th>
                            <td mat-cell *matCellDef="let menu; let i = index;" [formGroupName]="i">
                                <mat-checkbox checked="{{menu.value.assignToAll}}" formControlName="assignToAll">
                                </mat-checkbox>
                            </td>
                        </ng-container>



                        <ng-container matColumnDef="delete">
                            <th mat-header-cell *matHeaderCellDef>{{'wl.role_hide_menu' | translate}}</th>
                            <td mat-cell *matCellDef="let menu; let i = index;" [formGroupName]="i">
                                <button type="button" class="pepe-table-button" mat-raised-button
                                    (click)="removeMenu(menu)">
                                    <mat-icon class="list-mat-icon">arrow_forward</mat-icon>
                                </button>
                            </td>
                        </ng-container>
                    </table>


                    <table mat-table #table class="right_table" [dataSource]="availableMenus.controls"
                        formArrayName="available">

                        <tr mat-header-row *matHeaderRowDef="displayedColumnsAv"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumnsAv;"></tr>

                        <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef> {{'wl.role_menu' | translate}} </th>
                            <td mat-cell *matCellDef="let menu; let i = index;" [formGroupName]="i">
                                {{menu.value.name}} </td>
                        </ng-container>

                        <ng-container matColumnDef="add">
                            <th mat-header-cell *matHeaderCellDef>{{'wl.role_show_menu' | translate}}</th>
                            <td mat-cell *matCellDef="let menu; let i = index;" [formGroupName]="i">
                                <button type="button" class="pepe-table-button" mat-raised-button
                                    (click)="addMenu(menu)">
                                    <mat-icon class="list-mat-icon">arrow_back</mat-icon>
                                </button>
                            </td>
                        </ng-container>
                    </table>
                    <!-- <mat-icon [ngStyle]="{'color':'blue'}">arrow_back</mat-icon> -->
                </div>



            </div>

            <div class="button-bar">
                <button mat-raised-button class="pepe-button" color="primary" type="submit">{{'wl.save' |
                    translate}}</button>
            </div>

        </form>


    </mat-card-content>
</mat-card>

<!-- <pre>{{currentRole.menus | json}}</pre> -->





<!-- </div> -->

<!-- <table class="table">
                <thead>
                    <th>menu</th>
                    <th>preview</th>
                    <th>edit</th>
                    <th>delete</th>
                    <th>remove</th>
                </thead>
                <tbody>

                    <div formArrayName="menus">
                        <div *ngFor="let menu of currentRole.menus; let i=index">
                            <tr [formGroupName]="i">

                                <td class="form-group">
                                    <input type="text" class="form-control" formControlName="menu">
                                </td>

                                <td class="form-group">
                                    <input type="checkbox" class="form-control" formControlName="preview">
                                </td>

                                <td class="form-group">
                                    <input type="checkbox" class="form-control" formControlName="edit">
                                </td>

                                <td class="form-group">
                                    <input type="checkbox" class="form-control" formControlName="remove">
                                </td>

                                <td>
                                    <button (click)="remove(i)" class="btn btn-primary mr-5"
                                        type="button">Remove</button>
                                </td>

                            </tr>
                        </div>
                    </div>

                </tbody>
            </table> -->